<!-- Header -->
<app-db-officer-header></app-db-officer-header>
<!-- Header ends -->

<div class="wrapper_shala wrapper_db">
	<section class="outer_db_wraper db_main_brokr_lst">
    	<div class="combine_sidenav_right_db d-flex">
        	<div class="main_right_db invest_db">
	    		<section class="bread_top_sec">
	    			<div class="custom_container">
	        			<div class="d-flex justify-content-between align-items-center text-white pos_rel">
	            			<h3>Brokers List</h3>
	            			<nav class="bread_nav_sec">
								<ol class="breadcrumb">
								    <li class="breadcrumb-item"><a href="javascript:;">Home</a></li>
								    <li class="breadcrumb-item">Dashboard</li>
								    <li class="breadcrumb-item active">Brokers List</li>
								</ol>
							</nav>
	            		</div>
	            	</div>
	    		</section>
	    		<div class="marg_over_bread">
	        		<section class="p-0 top_filter_sec">
	        			<div class="custom_container">
	        				<div class="card">
	        					<div class="card-body">
		            				<form class="formm">
			            				<div class="row">
				            				<div class="col-sm-3">
		            							<div class="form-group">
		            								<select class="custom-select form-control" [(ngModel)]="option" [ngModelOptions]="{standalone: true}">
		            									<option value="first_name">First Name</option>
		            									<option value="last_name">Last Name</option>
		            									<option value="email">Email</option>
		            								</select>
		            							</div>
			            					</div>
				            				<div class="col-sm-3">
		            							<div class="form-group">
		            								<input type="" class="form-control" name="" placeholder="Search Keyword" [(ngModel)]="search" [ngModelOptions]="{standalone: true}">
		            							</div>
			            					</div>
			            					<div class="col-sm-6">
		            							<div class="form-group">
		            								<button class="btn btn_theme" (click)="getSearch()">Search</button>
		            							</div>
			            					</div>
			            				</div>
		            				</form>
		            			</div>
		            		</div>
		            	</div>
	        		</section>

	        		<section class="broker_table_sec">
	        			<div class="custom_container">
	        				<div class="row">
	            				<div class="col-sm-12">
		            				<div class="card">
		            					<div class="card-body">
			            					<div class="card_ttl">
			            						<h3>List of Brokers</h3>
			            						<small class="sub_crd">A project is an activity to meet the creation of a unique product or service and thus activities that are undertaken to accomplish routine activities.</small>
			            					</div>
		            						<div class="table-responsive table_seler">
		            							<!-- table start -->
												<div class="table_db_indi">
													<div class="onl_tabl">	
														<table class="mat-table table-bordered table table-striped" sort>
															<thead>
															  	<tr class="mat-header-row">
																    <th (click)="sort('broker_number')" class="mat-header-cell">Broker Number</th>
																    <th (click)="sort('first_name')" class="mat-header-cell">Broker Name</th>
																    <th (click)="sort('company')" class="mat-header-cell">Broker Company</th>
																    <th class="mat-header-cell">Total Investment Amount</th>
																    <th class="mat-header-cell">Action</th>
															  	</tr>
															</thead>
															<tbody>
																<ng-container *ngFor="let value of brokers; let i = index">
															  	<tr class="mat-row">
																    <td class="mat-cell">{{value.broker_number}}</td>
																    <td (click)="toggle(value.id)" class="mat-cell wtnrp">{{value.first_name}} {{value.last_name}}</td>
																    <td class="mat-cell">{{value.company}}</td>
																    <td class="mat-cell">-</td>
																    <td class="mat-cell">
																    	<a (click)="brokerDetails(value.id,value.first_name,value.last_name,value.broker_number,value.company)" mat-raised-button >View Clients</a>
																    </td>
															  	</tr>
														  	  	<tr *ngIf="opened.includes(value.id)" class="mat-row">
														  		    <td class="mat-cell" colspan="15">
														  		    	<h5>Name: {{ value.first_name }} {{ value.last_name }}</h5>
														  		    	<p>Email: {{ value.email }}</p>
														  		    	
														  		    </td>
														  	  	</tr>
															  	</ng-container>
															  	
															</tbody>
														</table>

														<mat-paginator [length]="length" [pageSize]="50" [pageSizeOptions]="[10, 25, 50, 100]" (page)="paginationOptionChange($event)"></mat-paginator>	
													</div>
												</div>
												<!-- table start -->
		            						</div>		
		            					</div>
		            				</div>
		            			</div>
		            		</div>
	        			</div>
	        		</section>
	        	</div>
	        </div>
	        <div class="sidenav_db">
				<app-db-officer-sidebar></app-db-officer-sidebar>
        	</div>
    	</div>
    </section>
    <!-- footer starts -->
    <!-- <app-footer></app-footer> -->
    <!-- footer ends -->
</div>